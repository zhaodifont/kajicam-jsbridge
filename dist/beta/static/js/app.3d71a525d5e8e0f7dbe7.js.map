{"version":3,"sources":["webpack:///./src/config/prod.js","webpack:///./src/config/index.js","webpack:///./src/config/beta.js","webpack:///./src/js/util/BrowserChecker.js","webpack:///./src/js/bridge/bridgeContext.js","webpack:///./src/js/bridge/AbstractBridge.js","webpack:///./src/js/bridge/NullBridge.js","webpack:///./src/js/bridge/model/AppInfo.js","webpack:///./src/js/bridge/model/AppCommonResult.js","webpack:///./src/js/bridge/model/EventCameraResult.js","webpack:///./src/js/bridge/model/GetCameraResult.js","webpack:///./src/js/bridge/model/CameraResult.js","webpack:///./src/js/bridge/AndroidBridge.js","webpack:///./src/js/bridge/IosBridge.js","webpack:///./src/js/bridge/BridgeFactory.js","webpack:///./src/main.js","webpack:///./src/config/local.js"],"names":["module","exports","assetsPublicPath","assetsRoot","b612Scheme","sitePrefix","uploadUrl","imgProcess","imagePrefix","filterId","categoryId","stickerId","betaConfig","require","config","activityName","downLink","BrowserChecker","navigator","userAgent","match","console","log","isIos","isAndroid","result","appVersion","ua","indexOf","bridgeContext","bridgeNs1st","bridgeNs2nd","_initB612Context","window","this","getB612NativeContext","context","namespace","AbstractBridge","classCallCheck_default","className","constructor","name","fullName","callback","_registerGlobal","callbackName","userCallback","resultType","_len","arguments","length","additionalParams","Array","_key","_this","_logResult","resultParsed","from","apply","undefined","concat","_makeNativeCallbackName","methodName","_result","substring","instance","NullBridge","_ret","possibleConstructorReturn_default","__proto__","get_prototype_of_default","call","get_default","prototype","saveShareParam","toString","sharePoppedCallback","shareMediaClickedCallback","eventCameraParam","AppInfo","app","os","deviceModel","language","country","_JSON$parse","JSON","parse","AppCommonResult","success","EventCameraResult","base64Image","GetCameraResult","replace","CameraResult","_ref","url","landmarks","stringify_default","native","B612KajiBridgeInterface","AndroidBridge","callbackMethodFullName","_registerCallback","appInfo","save","sharePoppedCallbackName","shareMediaClickedCallbackName","shareWithCallback","type","cameraPosition","eventCamera","eventCameraWithLandmarks","getCameraImage","getCameraImageWithLandmarks","IosBridge","_calliOSFunction","options","clickShareButton","functionName","args","sCallback","ConfigFactory","callInfo","_openCustomURLinIFrame","src","rootElm","document","documentElement","newFrameElm","createElement","setAttribute","appendChild","parentNode","removeChild","BridgeFactory","VConsole","appState","isAnd","isInApp","querySelector","innerText","getBridge","res"],"mappings":"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","file":"static/js/app.3d71a525d5e8e0f7dbe7.js","sourcesContent":["module.exports = {\n  // assetsPublicPath: '//h5.kajicam.com/events/sept/',// 拼接静态资源的前缀\n  assetsPublicPath: './',\n  assetsRoot: '../dist/release/',\n  b612Scheme: 'b612cn://',\n  sitePrefix: 'http://h5.kajicam.com/events/', // 拼接link的前缀 短点好 还是这个服务器 每次不用再改\n  uploadUrl: \"https://b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only\",\n  imgProcess:'https://b612-fs.snowcam.cn/v1/event/vision/xiaofu',\n  imagePrefix: \"https://b612kaji-org.oss-cn-beijing.aliyuncs.com/\",\n  filterId: \"235\",\n  categoryId: \"20005\",\n  stickerId: \"301197\",\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/prod.js","const betaConfig = require('./beta.js')\nconst proConfig = require('./prod.js')\nconst localConfig = require('./local.js')\nlet env = process.env.NODE_ENV\nlet config = null\n\nif (env == 'local' || env == 'dev' || env == 'development') {\n  config = localConfig\n} else if (env == 'beta') {\n  config = betaConfig\n} else {\n  config = proConfig\n}\n\nmodule.exports = config\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/index.js","module.exports = {\n  assetsPublicPath: './',\n  assetsRoot: '../dist/beta/',\n  b612Scheme: 'b612cnb://',\n  sitePrefix: 'http://h5-beta.kajicam.com/events',// 拼接打开app并在其中启动link的前缀 短点好 服务器地址 每次不用再改\n  uploadUrl: \"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only\",\n  imgProcess:'http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu',\n  imagePrefix: \"https://qa-b612.snowcam.cn/owfs/\",\n  filterId: \"235\",\n  categoryId: \"20136\",\n  stickerId: \"301197\",\n  activityName: 'sept', //活动目录\n  downLink: 'https://lnk0.com/easylink/EL50AJ9g'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/beta.js","class BrowserChecker {\r\n    static isIos() {\r\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i) ? true : false;\r\n    }\r\n\r\n    static isAndroid() {\r\n        return navigator.userAgent.match(/Android/i) ? true : false;\r\n    }\r\n\r\n    static isIosOrAndroid() {\r\n        console.log(\"[navigation.userAgent] : \" + navigator.userAgent);\r\n        return BrowserChecker.isIos() || BrowserChecker.isAndroid();\r\n    }\r\n\r\n    static isIosLowerThan11() {\r\n        let result = false;\r\n        if (BrowserChecker.isIos()) {\r\n            const majorVersion = (navigator.appVersion).match(/OS (\\d+)_(\\d+)_?(\\d+)?/)[1];\r\n            result = majorVersion <= 10;\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static isIos8or9() {\r\n        const ua = navigator.userAgent;\r\n        return (ua.indexOf(\"OS 8_\") >= 0 || ua.indexOf(\"OS 9_\") >= -1);\r\n    }\r\n}\r\n\r\nexport default BrowserChecker\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/BrowserChecker.js","const bridgeContext = {\r\n    bridgeNs1st: \"B612\",\r\n    bridgeNs2nd: \"Native\",\r\n\r\n    _initB612Context() {\r\n        window[this.bridgeNs1st] = window[this.bridgeNs1st] || {};\r\n        window[this.bridgeNs1st][this.bridgeNs2nd] = window[this.bridgeNs1st][this.bridgeNs2nd] || {};\r\n\r\n        return window[this.bridgeNs1st][this.bridgeNs2nd];\r\n    },\r\n\r\n    getB612NativeContext() {\r\n        const context = this._initB612Context();\r\n        context.namespace = this.bridgeNs1st + \".\" + this.bridgeNs2nd;\r\n        return context;\r\n    }\r\n};\r\n\r\nexport default bridgeContext\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/bridgeContext.js","import bridgeContext from \"./bridgeContext\";\r\n\r\nexport default class AbstractBridge {\r\n    constructor() {\r\n        return null;\r\n    }\r\n\r\n    static getInstance() {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Bridge 인스턴스 초기화\r\n     * @private\r\n     */\r\n    _initInstance() {\r\n        this.className = this.constructor.name;\r\n        this.fullName = bridgeContext.getB612NativeContext().namespace + '.' + this.className;\r\n        this.callback = {};\r\n        this.callback.fullName = this.fullName + '.callback';\r\n        this._registerGlobal();\r\n    }\r\n\r\n    /**\r\n     * AndroidBridge를 native에서 callback 함수를 호출할 수 있도록 window 객체로 등록한다.\r\n     * @param instance\r\n     * @private\r\n     */\r\n    _registerGlobal() {\r\n        bridgeContext.getB612NativeContext()[this.className] = bridgeContext.getB612NativeContext()[this.className] || this;\r\n    }\r\n\r\n    /**\r\n     * 전달된 이름의 callback을 등록하고 callback 함수의 full 명칭을 리턴한다.\r\n     * @param callbackName : callback 함수 이름\r\n     * @param userCallback : client code에서 지정한 callback 함수\r\n     * @param resultType : bridge 호출 결과를 변환할 오브젝트 type을 지정하면 해당 type의 .from() 메소드를 호출해 변환한다.\r\n     * @param additionalParams : userCallback 함수에 추가적으로 전달할 파라미터\r\n     * @returns {string} : callback 함수의 full 명칭\r\n     * @private\r\n     */\r\n    _registerCallback(callbackName, userCallback, resultType, ...additionalParams) {\r\n        this.callback[callbackName] = (result) => {\r\n            this._logResult(result, callbackName);\r\n            let resultParsed = resultType ? resultType.from(result) : result;\r\n            userCallback.apply(undefined, [resultParsed, ...additionalParams]);\r\n        };\r\n        return this._makeNativeCallbackName(callbackName);\r\n    }\r\n\r\n    /**\r\n     * app에서 호출할 callback 메소드명을 namespace를 포함한 full 접근명으로 변환하여 리턴한다.\r\n     * @param methodName\r\n     * @returns {string}\r\n     * @private\r\n     */\r\n    _makeNativeCallbackName(methodName) {\r\n        return this.callback.fullName + '.' + methodName;\r\n    }\r\n\r\n    /**\r\n     * app에서 callback으로 전달받은 result json을 parsing하여 logging 한다.\r\n     * @param result\r\n     * @param callbackName : 로깅할 callbackName 명칭\r\n     * @private\r\n     */\r\n    _logResult(result, callbackName) {\r\n        let _result = result;\r\n        if (typeof result === 'string') {\r\n            _result = result.substring(0, 1000);\r\n        }\r\n        //alert(`[Native callback][${callbackName}] : ${_result}`);\r\n        console.log(`[Native callback][${callbackName}] : ${_result}`);\r\n    }\r\n\r\n    printThis() {\r\n        console.log('--- print this below --- ');\r\n        console.log(this);\r\n        console.log('--- end of print this --- ');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/AbstractBridge.js","import AbstractBridge from \"./AbstractBridge\";\r\n\r\nlet instance = null;\r\n\r\nexport default class NullBridge extends AbstractBridge {\r\n    constructor() {\r\n        super();\r\n        if (!instance) {\r\n            instance = this;\r\n            super._initInstance(instance);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    appInfo(userCallback) {\r\n        console.log('[NullBridge] appInfo');\r\n    }\r\n\r\n    save(saveShareParam, userCallback) {\r\n        console.log('[NullBridge] save, param : ' + saveShareParam.toString());\r\n    }\r\n\r\n    shareWithCallback(saveShareParam, sharePoppedCallback, shareMediaClickedCallback) {\r\n        console.log('[NullBridge] shareWithCallback, param : ' + saveShareParam.toString());\r\n    }\r\n\r\n    eventCamera(eventCameraParam, userCallback) {\r\n        console.log('[NullBridge] eventCamera, param : ' + eventCameraParam.toString());\r\n    }\r\n\r\n\teventCameraWithLandmarks(eventCameraParam, userCallback) {\r\n\t\tconsole.log('[NullBridge] eventCamera, param : ' + eventCameraParam.toString());\r\n    }\r\n\t\r\n    getCameraImage(userCallback) {\r\n        console.log('[NullBridge] getCameraImage');\r\n    }\r\n\t\r\n\tgetCameraImageWithLandmarks(userCallback) {\r\n        console.log('[NullBridge] getCameraImage');\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/NullBridge.js","export default class AppInfo {\r\n    constructor(app, os, deviceModel, language, country) {\r\n        this.app = app;\r\n        this.os = os;\r\n        this.deviceModel = deviceModel;\r\n        this.language = language;\r\n        this.country = country;\r\n    }\r\n\r\n    static from(result) {\r\n        const {app, os, deviceModel, language, country} = JSON.parse(result);\r\n        return new AppInfo(app, os, deviceModel, language, country);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/model/AppInfo.js","export default class AppCommonResult {\r\n    constructor(success) {\r\n        this.success = success;\r\n    }\r\n\r\n    static from(result) {\r\n        const {success} = JSON.parse(result);\r\n        return new AppCommonResult(success);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/model/AppCommonResult.js","export default class EventCameraResult {\r\n    constructor(base64Image, success) {\r\n        this.base64Image = base64Image;\r\n        this.success = success;\r\n    }\r\n\r\n    static from(base64Image) {\r\n        if (base64Image) {\r\n            return new EventCameraResult(base64Image, true);\r\n        } else {\r\n            return new EventCameraResult(base64Image, false);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/model/EventCameraResult.js","export default class GetCameraResult {\r\n    constructor(base64Image, success) {\r\n        this.base64Image = base64Image;\r\n        this.success = success;\r\n    }\r\n\r\n    static from(base64Image) {\r\n        if (base64Image) {\r\n            return new GetCameraResult(base64Image.replace(/\\n/gi, \"\"), true);\r\n        } else {\r\n            return new GetCameraResult(base64Image, false);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/model/GetCameraResult.js","export default class CameraResult {\r\n    constructor({success, base64Image, url, landmarks}) {\r\n        this.success = success;\r\n        this.base64Image = base64Image;\r\n        this.url = url; // only from IOS eventCamera result\r\n        this.landmarks = JSON.stringify(landmarks);\r\n    }\r\n\r\n    static from(result) {\r\n        return new CameraResult(JSON.parse(result));\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/model/CameraResult.js","import AbstractBridge from \"./AbstractBridge\";\r\nimport AppInfo from \"./model/AppInfo\";\r\nimport AppCommonResult from \"./model/AppCommonResult\";\r\nimport EventCameraResult from \"./model/EventCameraResult\";\r\nimport GetCameraResult from \"./model/GetCameraResult\";\r\nimport CameraResult from \"./model/CameraResult\";\r\nimport BrowserChecker from \"../util/BrowserChecker\";\r\n\r\nlet instance = null;\r\nlet native = window.B612KajiBridgeInterface;\r\n\r\nexport default class AndroidBridge extends AbstractBridge {\r\n    constructor() {\r\n        super();\r\n        if (!instance) {\r\n            instance = this;\r\n            super._initInstance(instance);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * app 정보 요청 (정확히 어떤 정보 ?)\r\n     * @param userCallback\r\n     *    : callback param 0 - ./model/AppInfo\r\n     */\r\n    appInfo(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"appInfo\", userCallback, AppInfo);\r\n        native.appInfo(callbackMethodFullName);\r\n    }\r\n\r\n    /**\r\n     * 앱에게 이미지 또는 비디오를 전달하여 단말에 저장을 요청한다.\r\n     * @param saveShareParam (@see ./param/SaveShareParam)\r\n     * @param userCallback\r\n     */\r\n    save(saveShareParam, userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"save\", userCallback, AppCommonResult);\r\n        native.save(callbackMethodFullName, saveShareParam.toString());\r\n    }\r\n\r\n    /**\r\n     * 앱에게 이미지 또는 비디오를 전달하여 공유를 요청한다.\r\n     * @param saveShareParam (@see ./param/SaveShareParam)\r\n     * @param sharePoppedCallback - app에서 공유 div를 보여준 후 호출되는 callback\r\n     * @param shareMediaClickedCallback - app에서 share 매체를 선택한 후 callback (호출되지 않는데 ??)\r\n     */\r\n    shareWithCallback(saveShareParam, sharePoppedCallback, shareMediaClickedCallback) {\r\n        const sharePoppedCallbackName = this._registerCallback('sharePoppedCallback', sharePoppedCallback, AppCommonResult);\r\n        const shareMediaClickedCallbackName = this._registerCallback('shareMediaClickedCallback', shareMediaClickedCallback, AppCommonResult);\r\n\r\n        native.shareWithCallback(sharePoppedCallbackName,\r\n            shareMediaClickedCallbackName,\r\n            saveShareParam.toString());\r\n    }\r\n\r\n    /**\r\n     * 앱으로 camera 나 gallery 호출을 요청한다.\r\n     * @param eventCameraParam (@see ./param/EventCameraParam)\r\n     * @param userCallback\r\n     */\r\n    eventCamera(eventCameraParam, userCallback) {\r\n        //기획 변경 : 안드로이드의 경우에는 속도이슈로 Filter만 적용(Sticker 제외)\r\n        if(BrowserChecker.isAndroid()) {\r\n            // eventCameraParam.filterId = undefined;\r\n            eventCameraParam.categoryId = undefined;\r\n            eventCameraParam.stickerId = undefined;\r\n        }\r\n\r\n        const callbackMethodFullName = this._registerCallback(\r\n            \"eventCamera\", userCallback, EventCameraResult, eventCameraParam.type, eventCameraParam.cameraPosition);\r\n\r\n        native.eventCamera(callbackMethodFullName, eventCameraParam.toString(true));\r\n    }\r\n\r\n    eventCameraWithLandmarks(eventCameraParam, userCallback) {\r\n        //기획 변경 : 안드로이드의 경우에는 속도이슈로 Filter만 적용(Sticker 제외)\r\n        if(BrowserChecker.isAndroid()) {\r\n            eventCameraParam.filterId = undefined;\r\n            eventCameraParam.categoryId = undefined;\r\n            eventCameraParam.stickerId = undefined;\r\n        }\r\n\r\n        const callbackMethodFullName = this._registerCallback(\r\n            \"eventCameraWithLandmarks\", userCallback, CameraResult, eventCameraParam.type, eventCameraParam.cameraPosition);\r\n\r\n        native.eventCameraWithLandmarks(callbackMethodFullName, eventCameraParam.toString(true));\r\n    }\r\n\r\n    /**\r\n     * 마지막으로 촬영한 사진을 가져온다.\r\n     * @param userCallback\r\n     */\r\n    getCameraImage(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"getCameraImage\", userCallback, GetCameraResult);\r\n        native.getCameraImage(callbackMethodFullName);\r\n    }\r\n\r\n    getCameraImageWithLandmarks(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"getCameraImageWithLandmarks\", userCallback, CameraResult);\r\n        native.getCameraImageWithLandmarks(callbackMethodFullName);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/AndroidBridge.js","import AbstractBridge from \"./AbstractBridge\";\r\nimport ConfigFactory from \"@/config/index\"\r\nimport AppInfo from \"./model/AppInfo\";\r\nimport AppCommonResult from \"./model/AppCommonResult\";\r\nimport CameraResult from \"./model/CameraResult\";\r\n\r\nlet instance = null;\r\n\r\nexport default class IosBridge extends AbstractBridge {\r\n    constructor() {\r\n        super();\r\n        if (!instance) {\r\n            instance = this;\r\n            super._initInstance(instance);\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    /**\r\n     * app 정보 요청 (정확히 어떤 정보 ?)\r\n     * @param userCallback\r\n     *    : callback param 0 - ./model/AppInfo\r\n     */\r\n    appInfo(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"appInfo\", userCallback, AppInfo);\r\n        this._calliOSFunction(\"appInfo\", null, callbackMethodFullName);\r\n    }\r\n\r\n    /**\r\n     * 앱에게 이미지 또는 비디오를 전달하여 단말에 저장을 요청한다.\r\n     * @param saveShareParam (@see ./param/SaveShareParam)\r\n     * @param userCallback\r\n     */\r\n    save(saveShareParam, userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"save\", userCallback, AppCommonResult);\r\n        this._calliOSFunction(\"save\", saveShareParam, callbackMethodFullName);\r\n    }\r\n\r\n    /**\r\n     * 앱에게 이미지 또는 비디오를 전달하여 공유를 요청한다.\r\n     * @param saveShareParam (@see ./param/SaveShareParam)\r\n     * @param sharePoppedCallback - app에서 공유 div를 보여준 후 호출되는 callback\r\n     * @param shareMediaClickedCallback - app에서 share 매체를 선택한 후 callback (호출되지 않는데 ??)\r\n     */\r\n    shareWithCallback(saveShareParam, sharePoppedCallback, shareMediaClickedCallback) {\r\n        const sharePoppedCallbackName = this._registerCallback('sharePoppedCallback', sharePoppedCallback, AppCommonResult);\r\n        const shareMediaClickedCallbackName = this._registerCallback('shareMediaClickedCallback', shareMediaClickedCallback, AppCommonResult);\r\n\r\n        const options = JSON.parse(saveShareParam.toString());\r\n        options.clickShareButton = shareMediaClickedCallbackName;\r\n\r\n        this._calliOSFunction(\"share\", options, sharePoppedCallbackName);\r\n    }\r\n\r\n    /**\r\n     * 앱으로 camera 나 gallery 호출을 요청한다.\r\n     * @param eventCameraParam (@see ./param/EventCameraParam)\r\n     * @param userCallback\r\n     */\r\n    eventCamera(eventCameraParam, userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"eventCamera\", userCallback,\r\n            CameraResult, eventCameraParam.type, eventCameraParam.cameraPosition);\r\n\r\n        this._calliOSFunction(\"eventCamera\", eventCameraParam, callbackMethodFullName);\r\n    }\r\n\r\n    eventCameraWithLandmarks(eventCameraParam, userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"eventCameraWithLandmarks\", userCallback,\r\n            CameraResult, eventCameraParam.type, eventCameraParam.cameraPosition);\r\n\r\n        this._calliOSFunction(\"eventCameraWithLandmarks\", eventCameraParam, callbackMethodFullName);\r\n    }\r\n\r\n    /**\r\n     * 마지막으로 촬영한 사진을 가져온다.\r\n     * @param userCallback\r\n     */\r\n    getCameraImage(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"getCameraImage\", userCallback, CameraResult);\r\n        this._calliOSFunction(\"getCameraImage\", null, callbackMethodFullName);\r\n    }\r\n\r\n    getCameraImageWithLandmarks(userCallback) {\r\n        const callbackMethodFullName = this._registerCallback(\"getCameraImageWithLandmarks\", userCallback, CameraResult);\r\n        this._calliOSFunction(\"getCameraImageWithLandmarks\", null, callbackMethodFullName);\r\n    }\r\n\r\n    /**\r\n     * ios app과 연동하기 위한 method\r\n     * (app scheme을 통해 연동)\r\n     *\r\n     * @param functionName - app과 정의된 function name\r\n     * @param args - 전달할 argument object\r\n     * @param sCallback - app에서 호출해줄 callback 명\r\n     * @private\r\n     */\r\n    _calliOSFunction(functionName, args, sCallback) {\r\n        let url = ConfigFactory.b612Scheme + \"native/\";\r\n        const callInfo = {};\r\n        callInfo.functionName = functionName;\r\n        if (sCallback) {\r\n            callInfo.success = sCallback;\r\n        }\r\n        if (args) {\r\n            callInfo.args = args;\r\n        }\r\n        url += JSON.stringify(callInfo);\r\n\r\n        this._openCustomURLinIFrame(url);\r\n    }\r\n\r\n    _openCustomURLinIFrame(src) {\r\n        const rootElm = document.documentElement;\r\n        const newFrameElm = document.createElement(\"IFRAME\");\r\n\r\n        newFrameElm.setAttribute(\"src\", src);\r\n        rootElm.appendChild(newFrameElm);\r\n        newFrameElm.parentNode.removeChild(newFrameElm);\r\n    }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/IosBridge.js","import BrowserChecker from \"../util/BrowserChecker\";\r\nimport NullBridge from \"./NullBridge\";\r\nimport AndroidBridge from \"./AndroidBridge\";\r\nimport IosBridge from \"./IosBridge\";\r\n\r\nexport default class BridgeFactory {\r\n    static getBridge() {\r\n        if (BrowserChecker.isIos()) {\r\n            return new IosBridge();\r\n\r\n        } else if (BrowserChecker.isAndroid()) {\r\n            return new AndroidBridge();\r\n\r\n        } else {\r\n            return new NullBridge();\r\n        }\r\n    }\r\n}\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/bridge/BridgeFactory.js","// import 'babel-polyfill'\n\nimport BridgeFactory from '@/js/bridge/BridgeFactory'\nimport BrowserChecker from \"@/js/util/BrowserChecker\"\nimport config from '@/config/index'\n\nvar vConsole = new VConsole();\nconsole.log(config);\n\nvar appState = {\n  isAnd: false,\n  isIos: false,\n  isInApp: false\n}\n\nif (BrowserChecker.isIos()) {\n  appState.isIos = true\n} else if (BrowserChecker.isAndroid()) {\n  appState.isAnd = true\n}\n\ndocument.querySelector('.baseState').innerText = JSON.stringify(appState)\n\n\nBridgeFactory.getBridge().appInfo(res => {\n  // app内 才能执行到这一步\n  /*\n    {app: '7.n.n', 'os': '23', deviceModel: 'CAM-TLOO', 'language': 'zh-CN', 'country':'CN'}\n  */\n  document.querySelector('.AppInfo').innerText = JSON.stringify(res)\n\n  if (res.app) {\n    appState.isInApp = true\n    document.querySelector('.baseState').innerText = JSON.stringify(appState)\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\n  assetsPublicPath: './',\n  assetsRoot: '../dist/local/',\n  b612Scheme: 'b612cnb://',\n  sitePrefix: 'http://h5-beta.kajicam.com/events',// 拼接打开app并在其中启动link的前缀 短点好 服务器地址 每次不用再改\n  uploadUrl: \"http://qa-b612-fs.snowcam.cn/v1/event/vision/travel/upload-only\",\n  imgProcess:'http://qa-b612-fs.snowcam.cn/v1/event/vision/travel',\n  imagePrefix: \"https://qa-b612.snowcam.cn/owfs/\",\n  filterId: \"235\",\n  categoryId: \"20136\",\n  stickerId: \"301197\",\n  activityName: 'sept', //活动目录\n  downLink: 'https://lnk0.com/easylink/EL50AJ9g'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/local.js"],"sourceRoot":""}