webpackJsonp([1],{"2CaA":function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/release/",b612Scheme:"b612cn://",sitePrefix:"http://h5.kajicam.com/events/",uploadUrl:"https://b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",imgProcess:"https://b612-fs.snowcam.cn/v1/event/vision/xiaofu",imagePrefix:"https://b612kaji-org.oss-cn-beijing.aliyuncs.com/",filterId:"235",categoryId:"20005",stickerId:"301197"}},"2uFj":function(e,t,a){a("6rvf");var n=a("2CaA"),i=(a("TcyI"),null);i=n,e.exports=i},"6rvf":function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/beta/",b612Scheme:"b612cnb://",sitePrefix:"http://h5-beta.kajicam.com/events",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu/upload-only",imgProcess:"http://qa-b612-fs.snowcam.cn/v1/event/vision/xiaofu",imagePrefix:"https://qa-b612.snowcam.cn/owfs/",filterId:"235",categoryId:"20136",stickerId:"301197",activityName:"sept",downLink:"https://lnk0.com/easylink/EL50AJ9g"}},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("mvHQ"),i=a.n(n),r=(a("9mmO"),a("1uLP"),a("52Wt"),a("TFWu"),a("MyjO"),a("qtRy"),a("THnP"),a("K0JP"),a("NfZy"),a("dTzs"),a("+vXH"),a("MsuQ"),a("dSUw"),a("ZDXm"),a("V/H1"),a("CVR+"),a("vmSu"),a("4ZU1"),a("yx1U"),a("SPtU"),a("A52B"),a("PuTd"),a("dm+7"),a("JG34"),a("Rw4K"),a("9mGU"),a("bUY0"),a("mTp7"),a("y9m4"),a("A0n/"),a("VTn2"),a("W/IU"),a("Y5ex"),a("WpPb"),a("+yjc"),a("gPva"),a("C+4B"),a("W4Z6"),a("tJwI"),a("eC2H"),a("n12u"),a("nRs1"),a("jrHM"),a("EuXz"),a("F3sI"),a("bqOW"),a("Racj"),a("tqSY"),a("CvWX"),a("Y1S0"),a("Gh7F"),a("pd+2"),a("MfeA"),a("VjuZ"),a("mJx5"),a("qwQ3"),a("beEN"),a("xMpm"),a("9vc3"),a("WpTh"),a("U6qc"),a("No4x"),a("WgSQ"),a("yuXV"),a("XtiL"),a("A1ng"),a("LG56"),a("Stuz"),a("aJ2J"),a("WiIn"),a("v2lb"),a("7Jvp"),a("lyhN"),a("kBOG"),a("xONB"),a("LlNE"),a("9xIj"),a("m6Yj"),a("wrs0"),a("Lqg1"),a("pWGb"),a("1ip3"),a("N4KQ"),a("Hl+4"),a("MjHD"),a("SRCy"),a("H0mh"),a("gbyG"),a("YVn/"),a("FKfb"),a("zmx7"),a("smQ+"),a("m8F4"),a("v8VU"),a("dich"),a("fx22"),a("SldL"),a("Zrlr")),s=a.n(r),o=a("wxAW"),l=a.n(o),c=function(){function e(){s()(this,e)}return l()(e,null,[{key:"isIos",value:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)}},{key:"isAndroid",value:function(){return!!navigator.userAgent.match(/Android/i)}},{key:"isIosOrAndroid",value:function(){return console.log("[navigation.userAgent] : "+navigator.userAgent),e.isIos()||e.isAndroid()}},{key:"isIosLowerThan11",value:function(){var t=!1;e.isIos()&&(t=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/)[1]<=10);return t}},{key:"isIos8or9",value:function(){var e=navigator.userAgent;return e.indexOf("OS 8_")>=0||e.indexOf("OS 9_")>=-1}}]),e}(),u=a("Zx67"),g=a.n(u),m=a("zwoO"),h=a.n(m),v=a("Pf15"),d=a.n(v),f=a("yEsh"),p=a.n(f),k={bridgeNs1st:"B612",bridgeNs2nd:"Native",_initB612Context:function(){return window[this.bridgeNs1st]=window[this.bridgeNs1st]||{},window[this.bridgeNs1st][this.bridgeNs2nd]=window[this.bridgeNs1st][this.bridgeNs2nd]||{},window[this.bridgeNs1st][this.bridgeNs2nd]},getB612NativeContext:function(){var e=this._initB612Context();return e.namespace=this.bridgeNs1st+"."+this.bridgeNs2nd,e}},b=function(){function e(){return s()(this,e),null}return l()(e,[{key:"_initInstance",value:function(){this.className=this.constructor.name,this.fullName=k.getB612NativeContext().namespace+"."+this.className,this.callback={},this.callback.fullName=this.fullName+".callback",this._registerGlobal()}},{key:"_registerGlobal",value:function(){k.getB612NativeContext()[this.className]=k.getB612NativeContext()[this.className]||this}},{key:"_registerCallback",value:function(e,t,a){for(var n=arguments.length,i=Array(n>3?n-3:0),r=3;r<n;r++)i[r-3]=arguments[r];var s=this;return this.callback[e]=function(n){s._logResult(n,e);var r=a?a.from(n):n;t.apply(void 0,[r].concat(i))},this._makeNativeCallbackName(e)}},{key:"_makeNativeCallbackName",value:function(e){return this.callback.fullName+"."+e}},{key:"_logResult",value:function(e,t){var a=e;"string"==typeof e&&(a=e.substring(0,1e3)),console.log("[Native callback]["+t+"] : "+a)}},{key:"printThis",value:function(){console.log("--- print this below --- "),console.log(this),console.log("--- end of print this --- ")}}],[{key:"getInstance",value:function(){return null}}]),e}(),y=null,C=function(e){function t(){var e;s()(this,t);var a=h()(this,(t.__proto__||g()(t)).call(this));return y||(y=a,p()(t.prototype.__proto__||g()(t.prototype),"_initInstance",a).call(a,y)),e=y,h()(a,e)}return d()(t,e),l()(t,[{key:"appInfo",value:function(e){console.log("[NullBridge] appInfo")}},{key:"save",value:function(e,t){console.log("[NullBridge] save, param : "+e.toString())}},{key:"shareWithCallback",value:function(e,t,a){console.log("[NullBridge] shareWithCallback, param : "+e.toString())}},{key:"eventCamera",value:function(e,t){console.log("[NullBridge] eventCamera, param : "+e.toString())}},{key:"eventCameraWithLandmarks",value:function(e,t){console.log("[NullBridge] eventCamera, param : "+e.toString())}},{key:"getCameraImage",value:function(e){console.log("[NullBridge] getCameraImage")}},{key:"getCameraImageWithLandmarks",value:function(e){console.log("[NullBridge] getCameraImage")}}]),t}(b),I=function(){function e(t,a,n,i,r){s()(this,e),this.app=t,this.os=a,this.deviceModel=n,this.language=i,this.country=r}return l()(e,null,[{key:"from",value:function(t){var a=JSON.parse(t);return new e(a.app,a.os,a.deviceModel,a.language,a.country)}}]),e}(),_=function(){function e(t){s()(this,e),this.success=t}return l()(e,null,[{key:"from",value:function(t){return new e(JSON.parse(t).success)}}]),e}(),w=function(){function e(t,a){s()(this,e),this.base64Image=t,this.success=a}return l()(e,null,[{key:"from",value:function(t){return new e(t,!!t)}}]),e}(),N=function(){function e(t,a){s()(this,e),this.base64Image=t,this.success=a}return l()(e,null,[{key:"from",value:function(t){return t?new e(t.replace(/\n/gi,""),!0):new e(t,!1)}}]),e}(),S=function(){function e(t){var a=t.success,n=t.base64Image,r=t.url,o=t.landmarks;s()(this,e),this.success=a,this.base64Image=n,this.url=r,this.landmarks=i()(o)}return l()(e,null,[{key:"from",value:function(t){return new e(JSON.parse(t))}}]),e}(),B=null,x=window.B612KajiBridgeInterface,P=function(e){function t(){var e;s()(this,t);var a=h()(this,(t.__proto__||g()(t)).call(this));return B||(B=a,p()(t.prototype.__proto__||g()(t.prototype),"_initInstance",a).call(a,B)),e=B,h()(a,e)}return d()(t,e),l()(t,[{key:"appInfo",value:function(e){var t=this._registerCallback("appInfo",e,I);x.appInfo(t)}},{key:"save",value:function(e,t){var a=this._registerCallback("save",t,_);x.save(a,e.toString())}},{key:"shareWithCallback",value:function(e,t,a){var n=this._registerCallback("sharePoppedCallback",t,_),i=this._registerCallback("shareMediaClickedCallback",a,_);x.shareWithCallback(n,i,e.toString())}},{key:"eventCamera",value:function(e,t){c.isAndroid()&&(e.categoryId=void 0,e.stickerId=void 0);var a=this._registerCallback("eventCamera",t,w,e.type,e.cameraPosition);x.eventCamera(a,e.toString(!0))}},{key:"eventCameraWithLandmarks",value:function(e,t){c.isAndroid()&&(e.categoryId=void 0,e.stickerId=void 0);var a=this._registerCallback("eventCameraWithLandmarks",t,S,e.type,e.cameraPosition);x.eventCameraWithLandmarks(a,e.toString(!0))}},{key:"getCameraImage",value:function(e){var t=this._registerCallback("getCameraImage",e,N);x.getCameraImage(t)}},{key:"getCameraImageWithLandmarks",value:function(e){var t=this._registerCallback("getCameraImageWithLandmarks",e,S);x.getCameraImageWithLandmarks(t)}},{key:"close",value:function(){x.close()}}]),t}(b),W=a("2uFj"),A=a.n(W),L=null,O=function(e){function t(){var e;s()(this,t);var a=h()(this,(t.__proto__||g()(t)).call(this));return L||(L=a,p()(t.prototype.__proto__||g()(t.prototype),"_initInstance",a).call(a,L)),e=L,h()(a,e)}return d()(t,e),l()(t,[{key:"appInfo",value:function(e){var t=this._registerCallback("appInfo",e,I);this._calliOSFunction("appInfo",null,t)}},{key:"save",value:function(e,t){var a=this._registerCallback("save",t,_);this._calliOSFunction("save",e,a)}},{key:"shareWithCallback",value:function(e,t,a){var n=this._registerCallback("sharePoppedCallback",t,_),i=this._registerCallback("shareMediaClickedCallback",a,_),r=JSON.parse(e.toString());r.clickShareButton=i,this._calliOSFunction("share",r,n)}},{key:"eventCamera",value:function(e,t){var a=this._registerCallback("eventCamera",t,S,e.type,e.cameraPosition);this._calliOSFunction("eventCamera",e,a)}},{key:"eventCameraWithLandmarks",value:function(e,t){var a=this._registerCallback("eventCameraWithLandmarks",t,S,e.type,e.cameraPosition);this._calliOSFunction("eventCameraWithLandmarks",e,a)}},{key:"getCameraImage",value:function(e){var t=this._registerCallback("getCameraImage",e,S);this._calliOSFunction("getCameraImage",null,t)}},{key:"getCameraImageWithLandmarks",value:function(e){var t=this._registerCallback("getCameraImageWithLandmarks",e,S);this._calliOSFunction("getCameraImageWithLandmarks",null,t)}},{key:"close",value:function(){this._calliOSFunction("close",null,null)}},{key:"_calliOSFunction",value:function(e,t,a){var n=A.a.b612Scheme+"native/",r={};r.functionName=e,a&&(r.success=a),t&&(r.args=t),n+=i()(r),this._openCustomURLinIFrame(n)}},{key:"_openCustomURLinIFrame",value:function(e){var t=document.documentElement,a=document.createElement("IFRAME");a.setAttribute("src",e),t.appendChild(a),a.parentNode.removeChild(a)}}]),t}(b),j=function(){function e(){s()(this,e)}return l()(e,null,[{key:"getBridge",value:function(){return c.isIos()?new O:void 0!=window.B612KajiBridgeInterface&&c.isAndroid()?new P:new C}}]),e}(),F=(a("Avvh"),a("0/sL"),function(){function e(){s()(this,e)}return l()(e,[{key:"toString",value:function(e){return e?i()(this,function(e,t){return t||void 0}):i()(this)}}]),e}()),U={imageCamera:"imageCamera",imageAlbum:"imageAlbum"},q={front:"0",back:"1"},R=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";s()(this,t);var l=h()(this,(t.__proto__||g()(t)).call(this));if(!U[e])throw"[illegal type] "+e;return l.type=e,l.cameraPosition=a,l.filterId=n,l.categoryId=i,l.stickerId=r,l.collageId=o,l.autoDownload="true",l}return d()(t,e),l()(t,null,[{key:"types",get:function(){return U}},{key:"cameraPositions",get:function(){return q}}]),t}(F),T={image:"image",video:"video",web:"web"},J=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";s()(this,t);var o=h()(this,(t.__proto__||g()(t)).call(this));if(!T[a])throw"[illegal type] "+a;return o.url=e,o.type=a,o.title=n,o.content=i,o.thumbnail=r,o}return d()(t,e),l()(t,null,[{key:"types",get:function(){return T}}]),t}(F);console.log("production");new VConsole;var M={isAnd:!1,isIos:!1,isInApp:!1};function H(e){var t={};return(e||window.location.search).substring(1).split("?").forEach(function(e,a){var n=e.split("=");t[n[0]]=n[1]}),t}function V(e,t){if(console.log(">>> eventCameraCallback - result",e),e&&e.base64Image&&e.success){var a=e.base64Image,n=e.landmarks;$(".landmarks").text(n),$("#distImg").attr("src",a)}}c.isIos()?M.isIos=!0:c.isAndroid()&&(M.isAnd=!0),document.querySelector(".baseState").innerText=i()(M),j.getBridge().appInfo(function(e){if(document.querySelector(".AppInfo").innerText=i()(e),e.app){M.isInApp=!0,document.querySelector(".baseState").innerText=i()(M),document.querySelector(".shareDom").style.display="block",$("#eventCameraWithLandmarksBtn").css("display","inline-block"),$("#getUUid").show(),$(".exit").show(),$(".exit button").click(function(){j.getBridge().close()});var t=H();$(".getUUidVal")[0].innerText=t.uuid?t.uuid:"",$("#saveBtn").show(),$(".shareDom").show()}}),H(),$("#galleryBtn").on("click",function(){if(M.isInApp){var e=new R(R.types.imageAlbum);j.getBridge().eventCamera(e,V)}else $("#inputfile").trigger("click")}),$("#cameraBtn").on("click",function(){if(M.isInApp){var e=new R(R.types.imageCamera,R.cameraPositions.front,"","","","2","true");j.getBridge().eventCamera(e,V)}else $("#inputfile").trigger("click")}),$("#eventCameraWithLandmarksBtn").on("click",function(){if(console.log("eventCameraWithLandmarks  仅兼容7.6.0以上版本"),M.isInApp){var e=new R(R.types.imageCamera,R.cameraPositions.front,A.a.filterId,A.a.categoryId,A.a.stickerId,"");j.getBridge().eventCameraWithLandmarks(e,V)}else $("#inputfile").trigger("click")}),$("#saveBtn").on("click",function(){if(alert($("#distImg")[0].src.length),0==$("#distImg")[0].src.length)alert("请选择或拍照");else{var e=new J($("#distImg").attr("src"),J.types.image);j.getBridge().save(e,function(){alert("保存成功")})}}),$("#shareVideo").on("click",function(){var e=new J("https://b612-static.kajicam.com/stickerpr/1391/file_media_1_1545207714759.mp4",J.types.video),t=!1;j.getBridge().shareWithCallback(e,function(e){t||(t=!t,alert("点击了分享"))},function(e){})}),$("#sharePage").on("click",function(){var e=new J("http://www.baidu.com",J.types.web,"title ==一起来玩最爱的B612咔叽，随手一排就是小仙女～","content ==一起来玩最爱的B612咔叽，随手一排就是小仙女～","https://f12.baidu.com/it/u=645678572,3652301717&fm=76");j.getBridge().shareWithCallback(e,function(e){alert("分享链接")})}),$("#shareImage").on("click",function(){var e=new J("https://b612-static.kajicam.com/stickerpr/1388/file_media_1_1545210560520.jpg",J.types.image);console.log(e),bridgeFactory.getBridge().shareWithCallback(e,function(e){alert("分享成功")},function(e){})}),$("#inputfile").on("change",function(){$("#distImg").attr("src",URL.createObjectURL($(this)[0].files[0]))})},TcyI:function(e,t){e.exports={assetsPublicPath:"./",assetsRoot:"../dist/local/",b612Scheme:"b612cnb://",sitePrefix:"http://h5-beta.kajicam.com/events",uploadUrl:"http://qa-b612-fs.snowcam.cn/v1/event/vision/travel/upload-only",imgProcess:"http://qa-b612-fs.snowcam.cn/v1/event/vision/travel",imagePrefix:"https://qa-b612.snowcam.cn/owfs/",filterId:"235",categoryId:"20136",stickerId:"301197",activityName:"sept",downLink:"https://lnk0.com/easylink/EL50AJ9g"}}},["NHnr"]);
//# sourceMappingURL=app.47f195.js.map